<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>Family Money｜家計かんたん診断</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #f8f5f0;
      --card: #ffffff;
      --accent: #c89f6c;
      --accent-soft: #f3e3cf;
      --text-main: #333333;
      --text-sub: #666666;
      --danger: #d46a6a;
      --safe: #4d9b6b;
      --border: #e0d6c7;
      --radius-lg: 18px;
      --radius-sm: 10px;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 16px;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI",
        "ヒラギノ角ゴ ProN", "Hiragino Kaku Gothic ProN", "Yu Gothic",
        "游ゴシック", "Noto Sans JP", sans-serif;
      background: var(--bg);
      color: var(--text-main);
    }

    .app {
      max-width: 960px;
      margin: 0 auto;
    }

    .hero {
      margin-bottom: 16px;
    }

    .hero-title {
      font-size: 1.6rem;
      font-weight: 700;
      margin-bottom: 4px;
    }

    .hero-sub {
      font-size: 0.95rem;
      color: var(--text-sub);
      line-height: 1.6;
    }

    .cards {
      display: grid;
      grid-template-columns: minmax(0, 1.4fr) minmax(0, 1fr);
      gap: 16px;
    }

    @media (max-width: 768px) {
      .cards {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .card {
      background: var(--card);
      border-radius: var(--radius-lg);
      padding: 16px 18px 18px;
      box-shadow: 0 8px 18px rgba(0, 0, 0, 0.04);
      border: 1px solid var(--border);
    }

    .card-title {
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .badge {
      font-size: 0.72rem;
      padding: 2px 8px;
      border-radius: 999px;
      background: var(--accent-soft);
      color: var(--accent);
      font-weight: 600;
    }

    .section-help {
      font-size: 0.8rem;
      color: var(--text-sub);
      margin-bottom: 10px;
    }

    .grid-2 {
      display: grid;
      grid-template-columns: minmax(0, 1fr) minmax(0, 1fr);
      gap: 10px;
    }

    .field {
      margin-bottom: 10px;
    }

    .field label {
      display: block;
      font-size: 0.8rem;
      margin-bottom: 4px;
      color: var(--text-sub);
    }

    .field input {
      width: 100%;
      padding: 7px 8px;
      font-size: 0.9rem;
      border-radius: var(--radius-sm);
      border: 1px solid var(--border);
      background: #fcfbf8;
    }

    .field input:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 2px rgba(200, 159, 108, 0.18);
      background: #ffffff;
    }

    .input-suffix {
      font-size: 0.8rem;
      color: var(--text-sub);
      margin-left: 2px;
    }

    .btn-row {
      margin-top: 10px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      align-items: center;
    }

    button {
      border: none;
      border-radius: 999px;
      padding: 8px 18px;
      font-size: 0.9rem;
      font-weight: 600;
      cursor: pointer;
      background: var(--accent);
      color: #ffffff;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    button span.icon {
      font-size: 1.1rem;
    }

    button.secondary {
      background: transparent;
      color: var(--text-sub);
      border: 1px solid var(--border);
      font-weight: 500;
    }

    .hint {
      font-size: 0.75rem;
      color: var(--text-sub);
    }

    .result-header {
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      margin-bottom: 8px;
      gap: 8px;
    }

    .result-tagline {
      font-size: 0.85rem;
      color: var(--text-sub);
    }

    .pill {
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 0.78rem;
      font-weight: 600;
      border: 1px solid var(--border);
      background: #fcfbf8;
    }

    .pill-safe {
      border-color: var(--safe);
      color: var(--safe);
      background: #f1f7f3;
    }

    .pill-caution {
      border-color: #e2a23c;
      color: #e2a23c;
      background: #fff6e6;
    }

    .pill-danger {
      border-color: var(--danger);
      color: var(--danger);
      background: #ffecec;
    }

    .result-grid {
      display: grid;
      grid-template-columns: minmax(0, 1fr) minmax(0, 1fr);
      gap: 6px;
      margin-bottom: 10px;
    }

    .metric {
      border-radius: var(--radius-sm);
      padding: 8px 9px;
      background: #fcfbf8;
      border: 1px solid var(--border);
      font-size: 0.8rem;
    }

    .metric-label {
      color: var(--text-sub);
      margin-bottom: 2px;
    }

    .metric-value {
      font-weight: 600;
      font-size: 0.9rem;
    }

    .metric-note {
      font-size: 0.7rem;
      color: var(--text-sub);
    }

    .result-message {
      font-size: 0.85rem;
      line-height: 1.7;
      margin-bottom: 8px;
    }

    .result-next {
      font-size: 0.8rem;
      color: var(--text-sub);
    }

    .footer-note {
      margin-top: 12px;
      font-size: 0.72rem;
      color: var(--text-sub);
    }
  </style>
</head>
<body>
  <div class="app">
    <header class="hero">
      <div class="hero-title">Family Money｜家計かんたん診断</div>
      <p class="hero-sub">
        40代・晩産夫婦向けのミニ診断です。<br />
        今の家計バランスをざっくり見える化して、「安心して使えるお金」を考えるきっかけにしてください。
      </p>
    </header>

    <main class="cards">
      <!-- 入力エリア -->
      <section class="card">
        <div class="card-title">
          毎月の数字を入れてみる
          <span class="badge">1〜2分でOK</span>
        </div>
        <p class="section-help">
          手取りやざっくりした金額で大丈夫です。思い出せる範囲で、気楽に入れてみてください。
        </p>

        <form id="kakei-form">
          <div class="field">
            <label>① 世帯の毎月の手取り収入
              <span class="input-suffix">（ボーナスはならしてOK）</span>
            </label>
            <input type="number" id="income" min="0" placeholder="例）480000" />
          </div>

          <div class="grid-2">
            <div class="field">
              <label>② 住居費（家賃・住宅ローン）<span class="input-suffix">／月</span></label>
              <input type="number" id="housing" min="0" placeholder="例）120000" />
            </div>
            <div class="field">
              <label>③ 光熱費・通信費など固定費<span class="input-suffix">／月</span></label>
              <input type="number" id="utilities" min="0" placeholder="例）40000" />
            </div>
          </div>

          <div class="grid-2">
            <div class="field">
              <label>④ 保険料の合計<span class="input-suffix">／月</span></label>
              <input type="number" id="insurance" min="0" placeholder="例）30000" />
            </div>
            <div class="field">
              <label>⑤ 保育料・教育費（現時点）<span class="input-suffix">／月</span></label>
              <input type="number" id="education" min="0" placeholder="例）30000" />
            </div>
          </div>

          <div class="field">
            <label>⑥ 食費・日用品など（家族の生活費）<span class="input-suffix">／月</span></label>
            <input type="number" id="living" min="0" placeholder="例）90000" />
          </div>

          <div class="field">
            <label>⑦ レジャー・外食・カフェなどの自由費<span class="input-suffix">／月</span></label>
            <input type="number" id="play" min="0" placeholder="例）30000" />
          </div>

          <div class="field">
            <label>⑧ 毎月の貯金・つみたて額<span class="input-suffix">／月</span></label>
            <input type="number" id="savings" min="0" placeholder="例）50000" />
          </div>

          <div class="btn-row">
            <button type="submit">
              <span class="icon">▶</span> 家計を診断する
            </button>
            <button type="button" class="secondary" id="reset-btn">
              リセット
            </button>
          </div>
          <p class="hint">
            ※ 正確な家計簿でなくてOK。「だいたい」で入れても、今のバランスの目安が分かります。
          </p>
        </form>
      </section>

      <!-- 結果エリア -->
      <section class="card">
        <div class="card-title">
          診断結果
          <span class="badge">Family Money視点</span>
        </div>
        <div id="result-area">
          <p class="section-help">
            数字を入力して「家計を診断する」を押すと、ここに結果が表示されます。
          </p>
          <p class="section-help">
            貯蓄率・固定費の割合・安心度タイプを、40代・晩産家庭の目線でやさしく見える化します。
          </p>
        </div>
        <p class="footer-note">
          ※ これはあくまで簡易診断です。正確なライフプランは、ご家庭の状況に合わせた個別設計が必要です。
        </p>
      </section>
    </main>
  </div>

  <script>
// ==============================
// 家計診断ロジック（番号付き注釈入り）
// ==============================
function calculateKakei() {

  // ▼ ① 入力値の取得
  const income = Number(document.getElementById("income").value);
  const rent   = Number(document.getElementById("rent").value);
  const utility = Number(document.getElementById("utility").value);
  const phone = Number(document.getElementById("phone").value);
  const insurance = Number(document.getElementById("insurance").value);
  const food = Number(document.getElementById("food").value);
  const daily = Number(document.getElementById("daily").value);
  const child = Number(document.getElementById("child").value);
  const other = Number(document.getElementById("other").value);

  // ▼ 入力チェック
  if (!income) {
    alert("手取り収入を入力してください");
    return;
  }

  // ==============================
  // ② 固定費の合計
  // ==============================
  const fixedCost =
    rent       +   // ②-1
    utility    +   // ②-2
    phone      +   // ②-3
    insurance;     // ②-4

  // ==============================
  // ③ 自由費（変動費）の合計
  // ==============================
  const freeCost =
    food   +     // ③-1
    daily  +     // ③-2
    child  +     // ③-3
    other;       // ③-4

  // ==============================
  // ④ 貯蓄率の計算
  // ==============================
  const savingRate =
    (1 - (fixedCost + freeCost) / income) * 100;   // ④-1

  // ==============================
  // ⑤ 結果の分類
  // ==============================
  let type = "";
  let message = "";

  if (savingRate < 5) {
    type = "タイプD：現状維持が難しい家計";
    message =
      "毎月の支出がほぼ収入と同じ状況です。まずは固定費の見直しを優先すると改善しやすいです。";
  } else if (savingRate < 10) {
    type = "タイプC：あと少しで安定ゾーン";
    message =
      "大きな浪費はありませんが、変動費の使い方に揺れがあるかもしれません。見える化すると安心感が増えます。";
  } else if (savingRate < 20) {
    type = "タイプB：一般的に安定した家計";
    message =
      "バランスよく使えている家計です。教育費や将来の準備を少しずつ整えると、さらに安心が増えます。";
  } else {
    type = "タイプA：未来の安心がしっかり育つ家計";
    message =
      "お金の使い方がとても整っています！ 家族の価値観に合わせた支出で、ムリなく豊かさが続く状態です。";
  }

  // ==============================
  // ⑥ 結果の出力
  // ==============================
  document.getElementById("result-type").textContent = type;
  document.getElementById("result-saving").textContent =
    `貯蓄率：${savingRate.toFixed(1)}%`;
  document.getElementById("result-message").textContent = message;

}
  </script>
</body>
</html>
