<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>Family Money｜家計かんたん診断</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    body {
      font-family: "Noto Sans JP", sans-serif;
      background: #faf8f5;
      padding: 24px;
      line-height: 1.6;
      color: #333;
    }

    h1 {
      font-size: 24px;
      text-align: center;
      margin-bottom: 24px;
    }

    .container {
      max-width: 720px;
      margin: 0 auto;
      background: #fff;
      padding: 24px;
      border-radius: 16px;
      box-shadow: 0px 4px 12px rgba(0,0,0,0.08);
    }

    label {
      font-weight: bold;
      margin-top: 16px;
      display: block;
    }

    input {
      width: 100%;
      padding: 10px;
      margin-top: 4px;
      border-radius: 8px;
      border: 1px solid #ddd;
      font-size: 16px;
    }

    button {
      width: 100%;
      margin-top: 20px;
      padding: 14px;
      border: none;
      border-radius: 10px;
      font-size: 16px;
      cursor: pointer;
    }

    .btn-main {
      background: #f4a460;
      color: white;
    }

    .btn-reset {
      background: #ddd;
      color: #333;
      margin-top: 10px;
    }

    .result-box {
      margin-top: 32px;
      padding: 20px;
      background: #f8f5ef;
      border-radius: 12px;
    }

    .result-title {
      font-size: 18px;
      font-weight: bold;
    }

    .saving-rate {
      font-size: 24px;
      font-weight: bold;
      margin-top: 12px;
    }

    .message {
      margin-top: 12px;
      font-size: 16px;
    }
  </style>
</head>

<body>
  <h1>Family Money｜家計かんたん診断</h1>

  <div class="container">
    <label>① 手取り収入（月）</label>
    <input id="income" type="number" placeholder="例：350000">

    <label>② 家賃 / 住宅費</label>
    <input id="rent" type="number">

    <label>③ 光熱費</label>
    <input id="utility" type="number">

    <label>④ 通信費（スマホ・ネット）</label>
    <input id="phone" type="number">

    <label>⑤ 保険料</label>
    <input id="insurance" type="number">

    <label>⑥ 食費</label>
    <input id="food" type="number">

    <label>⑦ 日用品</label>
    <input id="daily" type="number">

    <label>⑧ 子ども費</label>
    <input id="child" type="number">

    <label>⑨ その他の支出</label>
    <input id="other" type="number">

    <button class="btn-main" onclick="calculateKakei()">家計を診断する</button>
    <button class="btn-reset" onclick="resetForm()">リセット</button>

    <div class="result-box">
      <div id="result-type" class="result-title">診断結果がここに表示されます</div>
      <div id="result-saving" class="saving-rate"></div>
      <div id="result-message" class="message"></div>
    </div>
  </div>

<script>
// ==============================
// 家計診断ロジック（番号付き注釈入り）
// ==============================
function calculateKakei() {

  // ▼ ① 入力値の取得
  const income = Number(document.getElementById("income").value);
  const rent   = Number(document.getElementById("rent").value);
  const utility = Number(document.getElementById("utility").value);
  const phone = Number(document.getElementById("phone").value);
  const insurance = Number(document.getElementById("insurance").value);
  const food = Number(document.getElementById("food").value);
  const daily = Number(document.getElementById("daily").value);
  const child = Number(document.getElementById("child").value);
  const other = Number(document.getElementById("other").value);

  if (!income) {
    alert("手取り収入を入力してください");
    return;
  }

  // ==============================
  // ② 固定費の合計
  // ==============================
  const fixedCost =
    rent       +   // ②-1
    utility    +   // ②-2
    phone      +   // ②-3
    insurance;     // ②-4

  // ==============================
  // ③ 自由費（変動費）の合計
  // ==============================
  const freeCost =
    food   +     // ③-1
    daily  +     // ③-2
    child  +     // ③-3
    other;       // ③-4

  // ==============================
  // ④ 貯蓄率の計算
  // ==============================
  const savingRate =
    (1 - (fixedCost + freeCost) / income) * 100;   // ④-1

  // ==============================
  // ⑤ 結果の分類
  // ==============================
  let type = "";
  let message = "";

  if (savingRate < 5) {
    type = "タイプD：現状維持が難しい家計";
    message =
      "毎月の支出がほぼ収入と同じ状況です。まずは固定費の見直しを優先すると改善しやすいです。";
  } else if (savingRate < 10) {
    type = "タイプC：あと少しで安定ゾーン";
    message =
      "大きな浪費はありませんが、変動費の使い方に揺れがあるかもしれません。見える化すると安心感が増えます。";
  } else if (savingRate < 20) {
    type = "タイプB：一般的に安定した家計";
    message =
      "バランスよく使えている家計です。教育費や将来の準備を少しずつ整えると、さらに安心が増えます。";
  } else {
    type = "タイプA：未来の安心がしっかり育つ家計";
    message =
      "お金の使い方がとても整っています！ 家族の価値観に合わせた支出で、ムリなく豊かさが続く状態です。";
  }

  // ==============================
  // ⑥ 結果の出力
  // ==============================
  document.getElementById("result-type").textContent = type;
  document.getElementById("result-saving").textContent =
    `貯蓄率：${savingRate.toFixed(1)}%`;
  document.getElementById("result-message").textContent = message;

}


// リセット処理
function resetForm() {
  document.querySelectorAll("input").forEach(i => i.value = "");
  document.getElementById("result-type").textContent = "診断結果がここに表示されます";
  document.getElementById("result-saving").textContent = "";
  document.getElementById("result-message").textContent = "";
}
</script>

</body>
</html>
